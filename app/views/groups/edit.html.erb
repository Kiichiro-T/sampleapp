<% provide(:title, "サークル情報") %>
<% content_for :pack_tag do %>
  <%#= javascript_pack_tag 'groups/edit' %>
  <%#= stylesheet_pack_tag 'groups/edit' %>
<% end %>

<main>
  <div class="container-L">
    <form class="box-option"
          date-step="1"
          data-intro='ここではサークルにかかわる情報が変更できます。'>
      <p class="text1">サークル情報</p>
      <div class="box-border-L"></div>
      <div class="box-container">
          <div class="container">
            <div class="nice-wrap">
              <input type="text" class="nice-textbox" id="event"
              date-step="2"
              data-intro='イベント名を記入し'>
              <label for="event" class="nice-label">サークル名:BALONY</label>
            </div>
          </div>
          <div class="container">
            <div class="nice-wrap">
              <input type="text" class="nice-textbox" id="event"
              date-step="2"
              data-intro='イベント名を記入し'>
              <label for="event" class="nice-label">代表者名:〇〇</label>
            </div>
          </div>
          <div class="container">
            <div class="nice-wrap">
              <input type="text" class="nice-textbox" id="event"
              date-step="2"
              data-intro='イベント名を記入し'>
              <label for="event" class="nice-label">代表者メールアドレス:</label>
            </div>
          </div>
          <div class="container">
            <div class="nice-wrap">
              <input type="text" class="nice-textbox" id="event"
              date-step="2"
              data-intro='イベント名を記入し'>
              <label for="event" class="nice-label">支払いPaypalアカウント:</label>
            </div>
          </div>
          <div class="container">
            <div class="nice-wrap">
              <input type="text" class="nice-textbox" id="event"
              date-step="2"
              data-intro='イベント名を記入し'>
              <label for="event" class="nice-label">サークルID:</label>
            </div>
          </div>
          <button class="button1">保存</button>
        </div>
      </div>
    </form>
    <div class="box-member">
      <a href="../roster/roster.html" class="text1">メンバー</a>
      <div class="box-border-L"></div>
      <div class="box-container">
        <%= form_tag batch_group_users_path(group_id: @group.id), multipart: true do %>
          <%= password_field_tag :password %><br>
          <button class="button2-1"><%= file_field_tag :file %></button><br>
          <%= submit_tag "インポート", class: "button2-1" %>
        <% end %>
        <%= form_with url: invite_group_path(id: @group.id) do |f| %>
            <%= f.email_field :email, autofocus: true, autocomplete: "email", placeholder: '招待者のメールアドレス', class: "box9" %>
          <%= f.submit "招待する", class: "box18" %>
        <% end %>
      </div>
    </div>
    <div class="box-succession">
      <p class="text1">引継ぎ</p>
      <div class="box-border-S"></div>
      <%= form_with url: inherit_group_path(group_id: @group.id) do |f| %>
        <%= f.select :new_executive,
          options_from_collection_for_select(@generals, :id, :name),
          {
            prompt: "選択できます"
          }, class: 'box10'
        %>
        <%= f.submit "引継ぐ", class: "box18" %>
      <% end %>
    </div>
    <div class="box-assign">
      <p class="text1">任命</p>
      <div class="box-border-S"></div>
      <% if @executives.count <= 7 %>
        <%= form_with url: assign_group_path(group_id: @group.id) do |f| %>
          <%= f.select :new_executive,
            options_from_collection_for_select(@generals, :id, :name),
            {
              prompt: "選択できます"
            }, class: 'box10'
          %>
          <%= f.submit "任命", class: "box18" %>
        <% end %>
      <% else %>
        <p class='box10'>現在幹事が８名いるため任命できません</p>
      <% end %>
    </div>
    <div class="box-declinature">
      <p class="text1">辞退</p>
      <div class="box-border-S"></div>
      <% unless @executives.count == 1 %>
        <%= link_to "辞退", resign_group_path(group_id: @group.id), method: :patch, class: 'box15' %>
      <% else %>
        <p class='box15'>現在幹事が１名しかいないため辞退できません</p>
      <% end %>
    </div>
  </div>
</main>
<%= render 'shared/sidebar' %>
<%= render 'shared/menu' %>
